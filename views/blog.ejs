<%- include('./components/header.ejs') %>
<br />

<section class="blog-image">
  <span>Image credit: <a href="https://unsplash.com/@fossy">@fossy</a></span>
  <div class="shadow animate-shadow"></div>
</section>

<section class="flex column blog">
  <% blogs.forEach(blogpost=>{ %>
  <div class="blog-box">
    <img src="<%= blogpost.image %>" />
    <div class="details">
      <h3 class="gradient-text heading-text"><%= blogpost.title%></h3>
      <%= blogpost.caption %>
      <div class="flex s-btw">
        <a href="/blog/post/<%= blogpost._id %>" class="btn gradient-text"
          >Read More ğŸ‘“</a
        >
        &nbsp; &nbsp;
        <div
          href="/blog/post/<%= blogpost._id %>"
          class="btn gradient-text"
          id="share-blog-btn"
        >
          Share ğŸ”—
        </div>
      </div>
    </div>
  </div>
  <hr />
  <br />
  <% })%>
</section>
<script>
  function CopyLink(event) {
    event.target.classList.remove('gradient-text');
    event.target.classList.remove('btn');
    event.target.style.border = '3px solid green';
    event.target.style.padding = '4px 10px';
    event.target.style.color = 'green';
    event.target.textContent = 'Link Copied';
    navigator.clipboard.writeText(
      'https://pulkitgupta.me' +
        event.target.getAttribute('href')
    );
    setTimeout(() => {
      event.target.classList.add('gradient-text');
      event.target.classList.add('btn');
      event.target.border = '3px solid transparent';
      event.target.textContent = 'Share ğŸ”—';
    }, 2000);
  }
  const ShareButton = document.getElementById('share-blog-btn');
  ShareButton.addEventListener('click', CopyLink);
</script>
<%- include('./components/footer.ejs') %>
